function PostsController(n){n.editorOptions={mode:"gfm",styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0};n.testChanged=function(){window.searchTime!=null&&window.clearTimeout(searchTime);window.searchTime=window.setTimeout(function(){n.postBodyHtml=marked(n.post.body);n.$apply()},200)};n.convert=function(){n.postBodyHtml=marked("# Marked in browser\n\nRendered by **marked**.")};n.create=function(){if(n.blog.title==null||n.blog.title.length==0){alert("填写文章标题");return}if(n.blog.body==null||n.blog.body.length==0){alert("请填写正文");return}var t=n.blog;BlogService.create(t).then(function(n){console.log(n)})}}var route=function(n,t){t.when("","/welcome").when("/","/welcome");n.state("app",{url:"/",views:{header:{templateUrl:"/scripts/views/view_header.html"},menu:{templateUrl:"/scripts/views/view_menu.html"},"main-body":{template:"<div ui-view><div>"}}});n.state("app.welcome",{url:"welcome",templateUrl:"/scripts/views/view_welcome.html"});n.state("app.posts",{url:"posts",templateUrl:"/scripts/views/view_posts.html",controller:PostsController})},app=angular.module("app",["ngResource","ui.router","ui.bootstrap","ui.codemirror"]);app.config(route);